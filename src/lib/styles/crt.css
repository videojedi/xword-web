/* Apple II Green Phosphor CRT Effects */

:root {
  /* Green phosphor colors - P1 phosphor characteristics */
  --phosphor-bright: #33ff33;
  --phosphor-normal: #00cc00;
  --phosphor-dim: #009900;
  --phosphor-glow: rgba(51, 255, 51, 0.4);

  /* Screen background */
  --screen-bg: #0a0a0a;
  --screen-bg-glow: #001a00;

  /* Screen dimensions for 40x24 chars */
  --char-width: 14px;
  --char-height: 20px;
  --screen-width: calc(40 * var(--char-width));
  --screen-height: calc(24 * var(--char-height));
}

/* Apple II Font - using a web-safe monospace as fallback */
@font-face {
  font-family: 'Apple II';
  src: local('PrintChar21'), local('Apple II'), local('Courier New');
  font-weight: normal;
  font-style: normal;
}

.crt-monitor {
  position: relative;
  background: #111;
  padding: 40px;
  border-radius: 30px;
  box-shadow:
    0 0 40px rgba(0, 0, 0, 0.8),
    inset 0 0 20px rgba(0, 0, 0, 0.5);
}

.crt-screen {
  position: relative;
  width: var(--screen-width);
  min-height: var(--screen-height);
  background: var(--screen-bg);
  border-radius: 15px;
  overflow: hidden;
  box-shadow:
    inset 0 0 60px rgba(0, 50, 0, 0.3),
    0 0 30px rgba(0, 255, 0, 0.1);
}

/* Scanline overlay */
.scanlines {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: repeating-linear-gradient(
    0deg,
    rgba(0, 0, 0, 0.25) 0px,
    rgba(0, 0, 0, 0.25) 1px,
    transparent 1px,
    transparent 2px
  );
  pointer-events: none;
  z-index: 10;
}

/* Screen flicker animation */
@keyframes flicker {
  0% { opacity: 0.97; }
  50% { opacity: 1; }
  100% { opacity: 0.98; }
}

.crt-screen::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: radial-gradient(
    ellipse at center,
    transparent 0%,
    rgba(0, 0, 0, 0.2) 80%,
    rgba(0, 0, 0, 0.4) 100%
  );
  pointer-events: none;
  z-index: 5;
}

/* Character grid container */
.screen-content {
  position: relative;
  width: 100%;
  height: 100%;
  padding: 10px;
  font-family: 'Apple II', 'Courier New', monospace;
  font-size: 16px;
  line-height: var(--char-height);
  animation: flicker 0.15s infinite;
}

/* Individual character styling */
.char {
  display: inline-block;
  width: var(--char-width);
  height: var(--char-height);
  text-align: center;
  color: var(--phosphor-bright);
  text-shadow:
    0 0 2px var(--phosphor-glow),
    0 0 5px var(--phosphor-glow),
    0 0 10px rgba(0, 255, 0, 0.2);
  text-transform: uppercase;
}

.char.dim {
  color: var(--phosphor-dim);
  text-shadow:
    0 0 2px rgba(0, 153, 0, 0.3);
}

/* Cursor styling */
.cursor {
  background-color: var(--phosphor-bright);
  animation: blink 0.5s step-end infinite;
}

@keyframes blink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0; }
}

/* Row container */
.screen-row {
  display: flex;
  height: var(--char-height);
  white-space: pre;
}

/* Phosphor persistence effect for recently changed characters */
@keyframes phosphor-fade {
  0% {
    color: #66ff66;
    text-shadow:
      0 0 4px rgba(102, 255, 102, 0.6),
      0 0 8px rgba(102, 255, 102, 0.4),
      0 0 15px rgba(102, 255, 102, 0.2);
  }
  100% {
    color: var(--phosphor-bright);
    text-shadow:
      0 0 2px var(--phosphor-glow),
      0 0 5px var(--phosphor-glow);
  }
}

.char.fresh {
  animation: phosphor-fade 0.15s ease-out;
}
